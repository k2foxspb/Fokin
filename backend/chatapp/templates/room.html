{% extends 'base.html' %}
{% load static %}

{% block content %}
    <div class="container mt-3 p-5">
        <h2>Комната: {{ room }}</h2>

        <h6>!!! Чтобы отправить личное сообщение, нажмите на имя человека</h6>

        <div class="row">
            <div class="col-12 col-md-8">
                <div id="mydiv" class="mb-2 mydiv articles-detail">
                    {% for message in room.get_message %}
                        <div class="message">
                            {{ message.user.username }}<br>
                            {{ message.content }} <br>
                            <div class="date">
                                {{ message.get_time_msg }}
                            </div>

                        </div>
                    {% endfor %}
                </div>
                {% if user.is_authenticated %}
                    <div class="input-group">
                        <label for="chatMessageInput"></label><input type="text" class="form-control"
                                                                     id="chatMessageInput"
                                                                     placeholder="Enter your chat message">
                        <div class="input-group-append">
                            <button class="my-btn" id="chatMessageSend" type="button">Send</button>
                        </div>
                    </div>
                {% else %}
                    <h6>Войдите в аккаунт, что бы написать сообщение</h6>
                    <div class="input-group">
                        <label for="chatMessageInput"></label><input type="text" class="form-control"
                                                                     id="chatMessageInput"
                                                                     placeholder="Enter your chat message">
                        <div class="input-group-append">
                            <button class="my-btn" id="chatMessageSend" type="button">Send</button>
                        </div>
                    </div>
                {% endif %}
            </div>
            <div class="col-12 col-md-4">
               <div id="onlineUsersSelector" class="mydiv articles-detail">
            </div>
            </div>
        </div>
        {{ room.name|json_script:"roomName" }}
    </div>
    <script src="{% static 'js/channels-messages/room.js' %}"></script>
{% endblock %}